<!doctype html>
<html>
<head>
  <title>Patternfly Doc Page</title>
  <link rel="stylesheet" href="../dist/css/patternfly.css">
  <link rel="stylesheet" href="../dist/css/patternfly-additions.css">
  <link rel="stylesheet" href="../dist/css/patternfly-webcomponents.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.22/webcomponents.js"></script>
  <script src="../dist/js/patternfly.js"></script>
  <script type="text/javascript">
    function resizeIframe(obj) {
      obj.style.height = obj.contentWindow.document.body.scrollHeight + 100 + 'px';
    }
  </script>
</head>
<body onload='getDocExampleFile()'>
  <div class="container">
    <div>
      <a href="../index.html"><span class="fa fa-angle-double-left"></span> Back</a>
    </div>
    <pf-alert type="warning">
      These examples are included for development testing purposes. For official documentation, see
      <a href="https://www.patternfly.org" class="alert-link">https://www.patternfly.org</a> and
      <a href="http://getbootstrap.com" class="alert-link">http://getbootstrap.com</a>
    </pf-alert>
    <div class="row">
      <div class="col-md-12">
        <h3>Example</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <iframe id="example" src="" width="100%" frameborder="0" scrolling="no" onload="resizeIframe && resizeIframe(this);">
          <p>Your browser does not support iframes.</p>
        </iframe>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <h3>Code</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <pre id="code" style="max-height: 300px;"></pre>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    function getDocExampleFile() {
      var query = location.search.substr(1);
      var result = {};
      query.split("&").forEach(function(part) {
        var item = part.split("=");
        result[item[0]] = decodeURIComponent(item[1]);
      });

      var pathToFile = "../src/" + result.dir + "/" + result.file;
      document.getElementById('example').setAttribute('src', pathToFile);

      var rawFile = new XMLHttpRequest();
      rawFile.open("GET", pathToFile, false);
      rawFile.onreadystatechange = function () {
        if(rawFile.readyState === 4) {
          if(rawFile.status === 200 || rawFile.status == 0) {
            var allText = rawFile.responseText;
            document.getElementById('code').innerText = allText;
          }
        }
      }
      rawFile.send(null);
    }
  </script>
</body>
</html>
